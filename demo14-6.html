<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>cookie的参数</title>
	</head>
	<body>
		<input type="submit" name="Submit" value="设置cookie值" onclick="setCookie()">
		<input type="submit" name="Submit2" value="读取cookie值" onclick="alert(GetCookie('username'))">
		<script>
			function setCookie()
			{
				var value = prompt("请输入cookie变量的值","");
				if(value!=null)
				{
					var expiration = new Date(new Date().getTime() + 10*60000);//设置cookie存活期
					document.cookie = "username=" + escape(value)+ "; expires ="+ expiration.toGMTString()+";path=/;domain=localhost;secure";
					alert("设置cookie值成功编码结果为：username="+escape(value));
				}
				else
				{
					alert("设置失败，你没有输入任何值！");			//检查输入是否为空
				}
			}
			function getCookie(cookie_name)
			{
				var allcookies = document.cookie;
				var value = null;
				alert(allcookies);
				var searchs = cookie_name + "=";
				if(allcookies.length>0)
				{
					var offset = allcookies.indexOf(searchs);
					if(offset!=-1)
					{
						offset += searchs.length;
						var end = allcookies.indexOf(";",offset);
						if(end==-1)
						{
							end = allcookies.length;
						}
						value = unescape(allcookies.substring(offset,end));
					}
					else
					{
						value = null;
					}
				}
				return value;
			}
		</script>
	</body>
</html>
